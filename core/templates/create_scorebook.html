{% extends "base.html" %}
{% load crispy_forms_tags %}

{% block title %}Create Scorebook{% endblock %}

{% block content %}
<form action="" method="POST">
    {% csrf_token %}
    {{ form|crispy }}
    <input class="btn btn-primary btn-lg" type="submit" value="Create">
    <input class="btn btn-danger btn-lg" type="button" id="cancelButton" value="Cancel">
</form>

    <div class="container-fluid">
    <div class="custom-block col-md-12 col-sm-12">
        <h1 class="bg_black">{{ user.first_name|capfirst }} {{ user.last_name|capfirst }}'s Scorebook</h1>
            <!-- Roster Modal -->
            <button id="buttonElement" class="btn btn-primary btn-lg">Create Scorebook</button>
            <div id="modalElement" class="modal">
                <div class="modal-content">
                    <div class="modal-header" style="text-align: center;">
                        <h1>Create New Scorebook</h1>
                    </div>
                    <form action="" method="GET">
                        {{ form|crispy }}
                        <input class="btn btn-primary btn-lg" type="submit" value="Create">
                        <input class="btn btn-danger btn-lg" type="button" id="cancelButton" value="Cancel">
                    </form>
                </div>
            </div>
            </div>
{% endblock %}


{% block custom_js %}
    <script>
        /* Modal Dialogue */
        var modalElement = document.getElementById("modalElement");
        var buttonElement = document.getElementById("buttonElement");
        var cancelButton = document.getElementById("cancelButton");
        var span = document.getElementsByClassName("close")[0];
        // When the user clicks on the button, open the modal
        buttonElement.onclick = function () {
            modalElement.style.display = "block";
        }
        cancelButton.onclick = function () {
            modalElement.style.display = "none";
        }
        // When the user clicks on <span> (x), close the modal
        span.onclick = function () {
            modalElement.style.display = "none";
        }
        // When the user clicks anywhere outside of the modal, close it
        window.onclick = function (event) {
            if (event.target === modalElement) {
                modalElement.style.display = "none";
            }
        }

        // {#$(document).ready(function() {#}
        // {#    $(document).on("dblclick", ".editable", function(){#}
        // {#        var value = $(this).text();#}
        // {#        var data_type = $(this).data("type");#}
        // {#        var input_type = "text";#}
        // {#        var input = "<input type='" + input_type + "' class='input-data' value='" + value + "' class='form-control'>";#}
        // {#        $(this).html(input);#}
        // {#        $(this).removeClass("editable")#}
        // {#    });#}
        // {##}
        // {#    {% comment %} $(document).on("blur", ".input-data", function(){#}
        // {#        var value = $(this).val();#}
        // {#        var td = $(this).parent("td");#}
        // {#        $(this).remove();#}
        // {#        td.html(value);#}
        // {#        td.addClass("editable");#}
        // {#        var type = td.data("type");#}
        // {#        sendToServer(td.data("id"), value, type);#}
        // {#    }); {% endcomment %}#}
        // {#    $(document).on("keypress", ".input-data", function(e){#}
        // {#        var key = e.which;#}
        // {#        if (key === 13) {#}
        // {#            var value = $(this).val();#}
        // {#            var td = $(this).parent("td");#}
        // {#            $(this).remove();#}
        // {#            td.html(value);#}
        // {#            td.addClass("editable");#}
        // {#           var type = td.data("type");#}
        // {#           sendToServer(td.data("id"), value,type);#}
        // {#        }#}
        // {#    });#}
        // {##}
        // {#    function sendToServer(id, value, type) {#}
        // {#        console.log(id);#}
        // {#        console.log(value);#}
        // {#        console.log(type);#}
        // {#        $.ajax({#}
        // {#            url: "http://127.0.0.1:8000/update-player/",#}
        // {#            type: "GET",#}
        // {#            data: {id: id, type: type, value: value},#}
        // {#        })#}
        // {#        .done(function(response) {#}
        // {#            console.log(response);#}
        // {#        })#}
        // {#        .fail(function() {#}
        // {#           console.log("Error Occured");#}
        // {#        });#}
        // {##}
        // {#    }#}
    </script>
{% endblock custom_js %}